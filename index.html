<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>Type Master Pro</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />

  <!-- Tailwind CDN -->
  <script src="https://cdn.tailwindcss.com"></script>
</head>

<body class="text-white">
<div id="app"></div>

<script>
/* ===================== SENTENCES ===================== */
const SENTENCES = [
  "The quick brown fox jumps over the lazy dog near the riverbank.",
  "She sells seashells by the seashore while watching the sunset.",
  "A journey of a thousand miles begins with a single step forward.",
  "Life is what happens when you're busy making other plans.",
  "The early bird catches the worm but the second mouse gets the cheese.",
  "Practice makes perfect but nobody's perfect so why practice at all.",
  "Time flies like an arrow but fruit flies like a banana.",
  "To be or not to be that is the question we must answer.",
  "All that glitters is not gold and not all who wander are lost.",
  "The pen is mightier than the sword in the hands of a writer.",
  "Knowledge is power but enthusiasm pulls the switch that turns it on.",
  "Success is not final and failure is not fatal courage continues.",
  "The only way to do great work is to love what you do.",
  "In the middle of difficulty lies opportunity waiting to be found.",
  "The future belongs to those who believe in the beauty of dreams.",
  "Yesterday is history tomorrow is a mystery but today is a gift.",
  "Happiness comes from your own actions not from outside sources.",
  "Typing fast requires focus rhythm and consistent practice.",
  "Accuracy matters more than speed when learning to type properly.",
  "Touch typing allows you to type without looking at the keyboard.",
  "Practice every day to build muscle memory in your fingers.",
  "Typing tests are a fun way to track improvement over time.",
  "Consistency beats talent when talent does not practice.",
  "Typing speed improves naturally with patience and repetition.",
  "Small improvements each day lead to massive progress later.",
  "A calm mind leads to cleaner keystrokes and fewer mistakes.",
  "The keyboard becomes an extension of your hands with practice.",
  "Good posture helps improve typing speed and accuracy.",
  "Looking at the screen instead of the keyboard saves time.",
  "Typing with confidence reduces unnecessary corrections.",
  "Slow typing today leads to fast typing tomorrow.",
  "Speed comes after accuracy not before.",
  "The best typists focus on rhythm rather than rushing.",
  "Mistakes are part of the learning process.",
  "Fast typing feels effortless after enough repetition.",
  "Training your fingers is like training muscles.",
  "Typing challenges help build endurance over time.",
  "Focus improves speed more than trying to go fast.",
  "Typing without fear improves consistency.",
  "Short breaks can improve long typing sessions.",
  "Confidence grows as mistakes decrease.",
  "Learning to type well helps in every subject.",
  "Typing skill is useful for school and future work.",
  "Daily practice makes typing feel natural.",
  "Each sentence typed builds experience.",
  "Typing is a skill anyone can master.",
  "Fast typing saves time on homework and projects.",
  "Strong typing skills boost productivity.",
  "Typing smoothly feels satisfying and calm.",
  "Speed tests are fun challenges not pressure.",
  "Improving typing builds self confidence.",
  "Good habits lead to long term improvement.",
  "Typing speed is built one sentence at a time."
];

/* ===================== STATE ===================== */
let mode = "menu";
let currentSentence = "";
let userInput = "";
let startTime = null;
let isActive = false;
let isFinished = false;
let wpm = 0;
let accuracy = 100;
let errors = 0;

let clicks = 0;
let clickTimeLeft = 15;
let clickActive = false;
let clickFinished = false;
let cps = 0;
let clickTimer;

/* ===================== FUNCTIONS ===================== */
function randomSentence() {
  currentSentence = SENTENCES[Math.floor(Math.random() * SENTENCES.length)];
}

function backToMenu() {
  resetTyping();
  resetClick();
  mode = "menu";
  render();
}

function handleTyping(e) {
  if (!isActive && e.target.value.length > 0) {
    startTime = Date.now();
    isActive = true;
  }

  userInput = e.target.value;
  if (userInput === currentSentence) finishTyping();
  render();
}

function finishTyping() {
  isActive = false;
  isFinished = true;

  const timeMin = (Date.now() - startTime) / 60000;
  const words = currentSentence.split(" ").length;
  wpm = Math.round(words / timeMin);

  errors = 0;
  for (let i = 0; i < userInput.length; i++) {
    if (userInput[i] !== currentSentence[i]) errors++;
  }

  accuracy = Math.round(((currentSentence.length - errors) / currentSentence.length) * 100);
}

function resetTyping() {
  userInput = "";
  isActive = false;
  isFinished = false;
  startTime = null;
  wpm = 0;
  accuracy = 100;
  errors = 0;
  randomSentence();
}

function startClickTest() {
  clicks = 0;
  clickTimeLeft = 15;
  clickActive = true;
  clickFinished = false;

  clickTimer = setInterval(() => {
    clickTimeLeft--;
    if (clickTimeLeft <= 0) finishClickTest();
    render();
  }, 1000);
}

function handleClick() {
  if (clickActive) clicks++;
  render();
}

function finishClickTest() {
  clearInterval(clickTimer);
  clickActive = false;
  clickFinished = true;
  cps = (clicks / 15).toFixed(2);
}

function resetClick() {
  clicks = 0;
  clickTimeLeft = 15;
  clickActive = false;
  clickFinished = false;
  cps = 0;
}

/* ===================== RENDER ===================== */
function render() {
  const app = document.getElementById("app");

  if (mode === "menu") {
    app.innerHTML = `
      <div class="min-h-screen bg-gradient-to-br from-purple-900 via-gray-900 to-indigo-900 flex items-center justify-center">
        <div class="text-center">
          <h1 class="text-7xl font-bold mb-6 bg-gradient-to-r from-purple-400 to-pink-400 bg-clip-text text-transparent">
            Type Master Pro
          </h1>
          <div class="flex gap-6 justify-center">
            <button onclick="mode='typing'; resetTyping(); render()"
              class="px-8 py-4 bg-purple-600 rounded-xl font-bold">
              ‚å®Ô∏è Typing Test
            </button>
            <button onclick="mode='clicking'; render()"
              class="px-8 py-4 bg-pink-600 rounded-xl font-bold">
              üñ±Ô∏è Click Test
            </button>
          </div>
        </div>
      </div>
    `;
    return;
  }

  if (mode === "clicking") {
    app.innerHTML = `
      <div class="min-h-screen bg-gradient-to-br from-pink-900 to-red-900 flex items-center justify-center">
        <div class="text-center">
          ${!clickActive && !clickFinished ? `
            <button onclick="startClickTest()" class="px-12 py-6 bg-pink-600 rounded-xl text-2xl font-bold">
              Start Click Test
            </button>
          ` : ""}
          ${clickActive ? `
            <div>
              <div class="text-7xl">${clickTimeLeft}</div>
              <button onclick="handleClick()" class="w-64 h-64 rounded-full bg-red-500 text-4xl font-bold">
                CLICK
              </button>
              <div class="text-5xl mt-4">${clicks}</div>
            </div>
          ` : ""}
          ${clickFinished ? `
            <div class="text-4xl">Clicks: ${clicks}<br>CPS: ${cps}</div>
          ` : ""}
          <div class="mt-6">
            <button onclick="backToMenu()" class="px-6 py-3 bg-gray-700 rounded-xl">üîô Back</button>
          </div>
        </div>
      </div>
    `;
    return;
  }

  app.innerHTML = `
    <div class="min-h-screen bg-gradient-to-br from-purple-900 via-gray-900 to-indigo-900 flex items-center justify-center p-8">
      <div class="max-w-4xl w-full">
        <div class="bg-gray-800 p-8 rounded-3xl text-3xl mb-6">
          ${currentSentence.split("").map((c, i) => {
            let color = "text-gray-500";
            if (i < userInput.length)
              color = userInput[i] === c ? "text-green-400" : "text-red-500";
            return `<span class="${color}">${c}</span>`;
          }).join("")}
        </div>

        ${!isFinished ? `
          <textarea oninput="handleTyping(event)"
            class="w-full p-6 rounded-xl bg-gray-800 text-2xl border-2 border-purple-500"
            placeholder="Start typing...">${userInput}</textarea>
        ` : `
          <div class="bg-gray-800 p-6 rounded-3xl text-center">
            <div class="text-4xl">WPM: ${wpm}</div>
            <div>Accuracy: ${accuracy}%</div>
            <div>Errors: ${errors}</div>
            <button onclick="resetTyping(); render()" class="mt-4 w-full py-3 bg-purple-600 rounded-xl">
              Try Again
            </button>
          </div>
        `}

        <button onclick="backToMenu()" class="mt-6 px-6 py-3 bg-gray-700 rounded-xl">
          üîô Back
        </button>
      </div>
    </div>
  `;
}

/* ===================== INIT ===================== */
randomSentence();
render();
</script>
</body>
</html>